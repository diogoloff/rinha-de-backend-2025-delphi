/******************************************************************************/
/****              Generated by IBExpert 28/07/2025 10:54:00               ****/
/******************************************************************************/

/******************************************************************************/
/****     Following SET SQL DIALECT is just for the Database Comparer      ****/
/******************************************************************************/
SET SQL DIALECT 3;



/******************************************************************************/
/****                                Tables                                ****/
/******************************************************************************/



CREATE TABLE PAYMENTS (
    ID              CHAR(36) NOT NULL,
    CORRELATION_ID  CHAR(36) NOT NULL,
    AMOUNT          NUMERIC(10,2) NOT NULL,
    STATUS          VARCHAR(20) NOT NULL,
    PROCESSOR       VARCHAR(20),
    CREATED_AT      TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    INSERT_AT       TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);


/******************************************************************************/
/****                             Primary keys                             ****/
/******************************************************************************/

ALTER TABLE PAYMENTS ADD PRIMARY KEY (ID);


/******************************************************************************/
/****                               Triggers                               ****/
/******************************************************************************/



SET TERM ^ ;



/******************************************************************************/
/****                         Triggers for tables                          ****/
/******************************************************************************/



/* Trigger: PAYMENTS_BI */
CREATE OR ALTER TRIGGER PAYMENTS_BI FOR PAYMENTS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF (NEW.id IS NULL) THEN
    NEW.id = UUID_TO_CHAR(GEN_UUID());
END
^
SET TERM ; ^



/******************************************************************************/
/****                              Privileges                              ****/
/******************************************************************************/
